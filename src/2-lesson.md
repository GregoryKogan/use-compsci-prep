# Занятие №2

**Тема**  
Единицы количества информации и арифметика над ними, кодирование информации, объём информации. Особенности кодирования изображений, видео и аудио, пропускная способность канала связи.  
Задания ЕГЭ: 7, 11

Второе занятие посвящено заданиям, связанным с кодированием информации. 7 и 11 задания решаются с помощью простых уравнений, высчитывающихся на компьютере.

## Задание №7

Все 7-ые задания объединяет понятие объема.  
_Объём целого = количество кусочков $\times$ объём кусочка_  
Конечно, речь будет идти об объёме информации/памяти, которую занимает файл. В разных вариантах задания чаще всего встречаются следующие типы файлов: изображения, аудиофайлы, видеофайлы. Давайте разберёмся с каждым из них.

Изображение/Картинка состоит из пикселей, а цвет каждого пикселя кодируется набором бит.
(То же самое, что и в 4 задании с кодовыми словами для букв)
Важное отличие от 4 задания в том, что в 7-ом для пикселей используется равномерное кодирование, если не сказано обратного. Это значит, что каждый возможный цвет пикселя кодируется одинаковым количеством бит.
Очевидно, что чем больше бит используется для кодирования цвета, тем больше цветов в палитре может быть. Количество цветов в палитре равно количеству различных кодовых слов, которые можно составить из $i$ бит, где $i$ - длина кодового слова, которая равна глубине цвета.  
Тут можно вспомнить стандартную кодировку RGB. В ней для кодирования цвета используется 24 бита.
Первые 8 бит определяют вклад красного цвета, следующие 8 - зеленого, и последние 8 - синего.
Важно понимать, что кодировка совсем необязательно должна иметь такую логическую расшифровку и может быть просто сопоставлением кодовых слов и цветов.  
Обычно количество пикселей в картинке либо задано явно, и равняется произведению ширины изображения на его высоту, либо вычисляется через её физический размер и разрешение.
Разрешение картинки - линейная величина, характеризующая количество пикселей на единицу длины (обычно дюйм). Более подробное определение разрешения будет чуть позже.
Возвращаясь к понятию объёма, можно сказать, что объём картинки равен произведению количества пикселей в ней на глубину цвета, то есть количество бит, отведенных на кодирование цвета одного пикселя.

Видеофайлы состоят из последовательности изображений, которые называются кадрами. Количество кадров в секунду называется частотой кадров. Объём видеофайла равен произведению количества кадров на объём одного кадра. Также в видеофайлах может быть звук, который кодируется аналогично аудиофайлам, но в ЕГЭ под видео обычно подразумевается только последовательность изображений.

Аудиофайлы в свою очередь состоят из записей звука, которые кодируются с помощью аналогово-цифрового преобразования. Это значит, что звуковой сигнал разбивается на кусочки, и каждый из них кодируется с помощью цифрового кода. Чем больше бит отведено на кодирование одного кусочка звука, тем больше уровней звука можно закодировать. Важно понимать, что частота дискретизации и глубина кодирования независимы друг от друга. Частота дискретизации - это количество раз в секунду, которое происходит преобразование аналогового звукового сигнала в цифровой. Глубина кодирования - это количество бит, выделяемое на одно преобразование сигнала.

![](src/images/2-lesson/image1.jpg){ width=80% }

Несколько раз в секунду записывается значение звука. Чем больше частота дискретизации, тем чаще записываются значения (это похоже на разрешение картинки) и чем больше глубина звука, тем больше разных значений звука можно записать (это похоже на палитру для цветов пикселей). Для аудиофайлов ещё существует понятие количества каналов. Оно определяет, сколько различных звуковых сигналов записывается. Например, если записывается только один сигнал, то это моно, если два - стерео, если четыре - квадро. Объём аудиофайла равен произведению количества кусочков звука на объём одного кусочка на количество каналов.

### Определения

**Бит** — единица измерения количества информации. Бит может принимать два значения: `0` или `1`.  
**Байт** — 8 бит.

Далее по смыслу идут понятия килобайта, мегабайта, гигабайта, терабайта и т.п. Чаще всего в повседневной жизни мы слышим именно эти слова, однако большинство людей используют их не совсем корректно. Приставки кило-, мега-, тера-, пришедшие из системы СИ, обозначают шаг в 1000 ($10^3$) раз. Как в килограмме 1000 грамм, так и в килобайте должно быть 1000 байт. Практика показала, что гораздо удобнее для единиц измерения информации сделать шаг в 1024 ($2^{10}$) раза, а не в 1000. Чтобы избежать путаницы, были придуманы специальные двоичные приставки[^3]. Соответственно, в кибибайте 1024 байта, в мебибайте 1024 кибибайта и так далее.

[^3]: Подробнее можете почитать на [википедии](http://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D1%8B%D0%B5_%D0%BF%D1%80%D0%B8%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B8). [@wikipediabinarymeasure]

![Источник: [@wikipediabinarymeasure]](src/images/2-lesson/image2.jpg){ width=80% }

Этот интересный факт вводился исключительно для расширения кругозора студента и практической пользы при решении заданий ЕГЭ не несёт. А вот что действительно важно запомнить, так это то, что в **ЕГЭ всегда имеется в виду шаг в 1024 раза.**

**КБайт/Кбайт/Килобайт...** — 1024 байта  
**МБайт/Мбайт/Мегабайт...** — 1024 Кбайта  
**ГБайт/Гбайт/Гигабайт...** — 1024 Мбайта  
и так далее

**Глубина цвета** — количество бит, необходимых для хранения цвета каждого пикселя.  
Формула веса картинки: $I = i \times w \times h$, где $I$ - вес картинки в битах, $i$ - глубина цвета, $w$ - ширина картинки, $h$ - высота картинки.
Если глубина цвета $i$, то максимальное количество возможных цветов равно $2^i$.
Выразив в этой формуле глубину через количество цветов ($M$), получим: $i = ceil(\log_2(M))$, где $ceil$ - операция округления вверх.  
**Разрешение/ppi/dpi** — это количество пикселей на дюйм размера изображения (ppi - pixels per inch, dpi - dots per inch).  
Важно понимать, что здесь дюйм не квадратный, а линейный. Соответственно, при изменения разрешения в $k$ раз количество пикселей изменится в $k^2$ раз.  
**Глубина кодирования/Разрешение (аудио)** — количество бит, выделяемое на одно преобразование сигнала.  
**Частота дискретизации** – количество раз в секунду, которое происходит преобразование аналогового звукового сигнала в цифровой. Измеряется в Герцах (Гц).  
Возможна запись нескольких каналов: одного (моно), двух (стерео), четырех (квадро).  
Формула веса аудиофайла: $A = i \times f \times k \times t$, где $A$ - вес аудиофайла в битах, $i$ - разрешение, $f$ - частота дискретизации, $k$ - количество каналов, $t$ - длина аудио в секундах.
Точно так же, как и для палитры цветов в картинках, для аудио можно посчитать количество уровней дискретизации (уровней звука) по формуле $M=2^i$  
**Пропускная способность канала** — скорость передачи информации по каналу связи. Вычисляется как количество информации в битах, переданное за 1 секунду (бит/с)  
Несложно догадаться, что количество переданной за время $t$ по каналу информации можно вычислить умножив $t$ на пропускную способность канала.

### Методика решения

В 7 задании вам предлагается решить задачу, связанную с одним из вышеупомянутых типов файлов. Вам даются некоторые параметры файла (объём, разрешение, глубина цвета, частота дискретизации, количество каналов и т.п.) и просят найти на их основе другие параметры файла, или то, как они изменятся после определенных преобразований. Можно много вариантов 7 заданий, жонглирующих вышеупомянутыми базовыми понятиями. Все они решаются одинаково: составляется простое выражение, в него подставляются значения и результат вычисляется на компьютере. В этом задании важно внимательно следить за используемыми единицами.

### Варианты задания

- [Количество цветов](#количество-цветов)
- [Длительность аудио](#длительность-аудио)
- [Уровни звука](#уровни-звука)
- [Преобразования с видео](#преобразования-с-видео)
- [Преобразования с аудио и пропускная способность](#преобразования-с-аудио-и-пропускная-способность)
- [Разрешение](#разрешение)
- [Арифметика с файлами](#арифметика-с-файлами)
- [Прочие варианты задания 7](#прочие-варианты-задания-7)

#### Количество цветов

(№ 1824) Камера делает фотоснимки размером 640×480 пикселей. На хранение одного кадра отводится 250 Кбайт. Найдите максимально возможное количество цветов в палитре изображения.  
_Ответ: 64_  
**Решение**  
Вспоминаем формулу веса картинки: $I = i \times w \times h$. Выражаем из неё глубину цвета: $i=\frac{I}{w \times h}$.  
Из условия: $w=640, h=480, I=250 \times 1024 \times 8$  
Подставляем в формулу: $i=\frac{250 \times 1024 \times 8}{640 \times 480}=6\frac{2}{3}$  
Получаем дробное значение. Надо понимать, что в жизни глубина цвета может быть только целой, потому что это количество бит, отведенных на хранение цвета. Такой результат стоит понимать следующим образом: если глубина цвета 6 бит, то картинка уместится в 250 Кбайт, а если больше, то уже нет. Значит в нашем случае глубина цвета равна 6. А раз так, то количество возможных цветов равно $2^6=64$.

_Все 7-ые задания решаются с помощью простых уравнений. Решать их на бумаге, конечно же, не надо. У вас в распоряжении есть компьютер с Python и Excel - пользуйтесь._

```shell
$ python3
Python x.y.z (main, date, time)
Type "help", "copyright", "credits" or "license" for more information.
>>> from math import *
>>> log2(256)
8.0
```

#### Длительность аудио

(№ 6815) (ЕГЭ-2023) Производилась двухканальная (стерео) звукозапись с частотой дискретизации 48 кГц и 24-битным разрешением. В результате получен файл размером 288 Мбайт без учёта размера заголовка и без сжатия данных. Определите длительность звукозаписи (в минутах). В качестве ответа укажите ближайшее к полученному времени записи целое число.  
_Ответ: 17_  
**Решение**  
Вспоминаем формулу веса аудиофайла: $A = i \times f \times k \times t$. Выражаем длительность: $t = \frac{A}{i \times f \times k}$.
Подставляем значения из условия:  
$t = \frac{A}{i \times f \times k} = \frac{288 \times 1024 \times 1024 \times 8}{24 \times 48 \times 1000 \times 2} \approx 1048.576$ секунд, а значит $\frac{1048.576}{60} \approx 17.48$ минут.
Ответ просят округлить до ближайшего целого $\Rightarrow$ 17.  
Здесь важно не забыть перевести килогерцы в герцы и секунды в минуты.

#### Уровни звука

(№ 5831) (А. Минак) Производится четырёхканальная (квадро) звукозапись с частотой дискретизации 32 кГц. Запись длится 8 минут, ее результаты сохраняются в файл, сжатие данных не производится. Объём полученного файла занимает не более 52 Мбайт. Определите наибольшее количество уровней звука цифрового дискретного сигнала, которое можно использовать при кодировании звукозаписи. В ответе укажите целое число.  
_Ответ: 128_  
**Решение**  
Задача аналогична предыдущей, только найти в этот раз надо количество уровней звука.
Вспоминаем формулу веса аудиофайла: $A = i \times f \times k \times t$. Выражаем глубину кодирования: $i=\frac{A}{f \times k \times t}$
Подставляем: $i = \frac{A}{f \times k \times t} = \frac{52 \times 1024 \times 1024 \times 8}{32 \times 1000 \times 4 \times 8 \times 60} \approx 7.1$ $\Rightarrow$ максимальная глубина 7 $\Rightarrow$ количество уровней звука равно $M=2^7=128$

#### Преобразования с видео

(№ 1833) (А.М. Кабанов) Камера снимает видео без звука с частотой 60 кадров в секунду, при этом изображения используют палитру, содержащую $2^16 = 65536$ цветов. 1 минута видео в среднем занимает 12 Мегабайт. При записи файла на сервер полученное видео преобразуют так, что его частота кадров уменьшается до 20 кадров в секунду, а изображения преобразуют в формат, содержащий палитру из 256 цветов. Другие преобразования и иные методы сжатия не используются. Сколько Мбайт в среднем занимает 5 минут преобразованной видеозаписи?  
_Ответ: 10_  
**Решение**  
Для решения задачи надо посмотреть во сколько раз изменит размер файла каждая операция с ним.
Было 60 кадров в секунду, а стало 20 $\Rightarrow$ файл стал в 3 раза меньше.
Была глубина цвета 16, а стала $\log_2(256)=8$ $\Rightarrow$ файл стал 2 раза меньше.
Получается, что файл стал в 6 раз меньше, но и смотрим мы теперь не 1 минуту, а 5 $\Rightarrow$ надо вес 1 минуты в изначальном формате умножить на $\frac{5}{6}$:  
$12 \cdot \frac{5}{6} = 10$ Мбайт.  
Важно проследить в каких единицах требуется ответ. В нашем случае ответ нужно дать в Мбайтах и дальнейших преобразований не требуется.

#### Преобразования с аудио и пропускная способность

(№ 202) Музыкальный фрагмент был оцифрован и записан в виде файла без использования сжатия данных. Получившийся файл был передан в город А по каналу связи за 66 секунд. Затем тот же музыкальный фрагмент был оцифрован повторно с разрешением в 2 раза ниже и частотой дискретизации в 4 раз выше, чем в первый раз. Сжатие данных не производилось. Полученный файл был передан в город Б за 22 секунды. Во сколько раз пропускная способность канала в город Б больше пропускной способности канала в город А?  
_Ответ: 6_  
**Решение**  
Файл стал в $\frac{1}{2} \cdot 4 = 2$ раза больше, а передали его в $\frac{66}{22}=3$ раза быстрее. Значит, пропускная способность второго канала в $2 \times 3=6$ раз больше.  
В этой задаче не использовался многоканальный звук, но ничего принципиально нового он бы не привнес.

#### Разрешение

(№ 1840) Для хранения в информационной системе документы сканируются с разрешением 600 ppi и цветовой системой, содержащей 224 = 16 777 216 цветов. Методы сжатия изображений не используются. Средний размер отсканированного документа составляет 12 Мбайт. В целях экономии было решено перейти на разрешение 300 ppi и цветовую систему, содержащую 256 цветов. Сколько Мбайт будет составлять средний размер документа, отсканированного с измененными параметрами?  
_Ответ: 1_  
**Решение**  
Задача ничем не отличается от предыдущих, за исключением использования понятия разрешения картинки.
Было 600 ppi, а стало 300 ppi $\Rightarrow$ количество пикселей стало в $2^2=4$ раза меньше $\Rightarrow$ файл стал в 4 раза меньше.
Была глубина 24 бита, а стала $log_2(256) = 8$ $\Rightarrow$ файл стал в 3 раза меньше.
Значит размер файла в итоге стал в 12 раз меньше. Если изначально он занимал 12 Мбайт, то теперь только 1 Мбайт.

#### Арифметика с файлами

(№ 195) После преобразования растрового 256-цветного графического файла в черно-белый формат (2 цвета) его размер уменьшился на 7 Кбайт. Каков был размер исходного файла в Кбайтах?  
_Ответ: 8_  
**Решение**  
В этой задаче надо составить простейшее уравнение:  
Была глубина цвета 8, а стала 1 $\Rightarrow$ файл уменьшился в 8 раз. $\Rightarrow$ $x - 7 = \frac{x}{8}$ $\Rightarrow$ $x = 8$.
Получаем исходный размер в 8 Кбайт.

#### Прочие варианты задания 7

Так же встречаются задачи, в которых нужно найти:

- Минимальный объем памяти, чтобы в нём уместился файл с заданными параметрами

## Задание №11

11 задание посвящено кодированию информации и очень похоже на 7-ое. В 11 задании появляются понятия алфавита и мощности алфавита.

### Определения

**Алфавит** — конечное множество символов.  
**Мощность алфавита** — количество элементов алфавита. (Например, у алфавита русских заглавных букв мощность 33)  
Чтобы равномерно закодировать все элементы алфавита двоичной кодировкой, понадобятся кодовые слова длины $i = ceil(\log_2(M))$ бит, где $M$ - мощность алфавита.

Не забываем мысль из 7 задания:  
_Объем целого = количество кусочков $\times$ объем кусочка_

### Методика решения

В 11 задании вам предлагается решить задачу, связанную с кодированием информации. Обычно вам предоставляются сведения о том, из каких частей состоит запись и некоторые параметры алфавитов, в которых эти части записываются. Просят же найти объём памяти, необходимый для хранения одной или нескольких таких записей. Решается так же, как и 4 задание: составляется простое выражение на бумаге, в него подставляются значения и результат вычисляется на компьютере.

### Варианты задания

- [Примитив](#примитив)
- [С округлением](#с-округлением)
- [Арифметика с байтами](#арифметика-с-байтами)
- [Максимальная сложность](#максимальная-сложность)
- [Прочие варианты задания 11](#прочие-варианты-задания-11)

#### Примитив

(№ 2047) В базе данных хранятся записи, содержащие информацию о датах. Каждая запись содержит три поля: год (число от 1 до 2100), номер месяца (число от 1 до 12) и номер дня в месяце (число от 1 до 31). Каждое поле записывается отдельно от других полей с помощью минимально возможного числа бит. Определите минимальное количество бит, необходимых для кодирования одной записи.  
_Ответ: 21_  
**Решение**  
Мощность алфавита годов - 2100 $\Rightarrow$ для записи одного года из него понадобится $ceil(\log_2(2100))=12$ бит  
Мощность алфавита месяцев - 12 $\Rightarrow$ для записи одного месяца из него понадобится $ceil(\log_2(12))= 4$ бита  
Мощность алфавита дней - 31 $\Rightarrow$ для записи одного дня из него понадобится $ceil(\log_2(31))=5$ бит  
$\Rightarrow$ для одной записи нужен $12+4+5=21$ бит

#### С округлением

(№ 2077) При регистрации в компьютерной системе каждому пользователю выдаётся идентификатор, состоящий из 10 символов, первый и последний из которых – одна из 18 букв, а остальные – цифры (допускается использование 10 десятичных цифр). Каждый такой идентификатор в компьютерной программе записывается минимально возможным и одинаковым целым количеством байт (при этом используют посимвольное кодирование; все цифры кодируются одинаковым и минимально возможным количеством бит, все буквы также кодируются одинаковым и минимально возможным количеством бит). Определите объём памяти в байтах, отводимый этой программой для записи 25 идентификаторов.  
_Ответ: 150_  
**Решение**  
Мощность алфавита с буквами - 18 $\Rightarrow$ для записи одной буквы из него понадобится $ceil(\log_2(18))=5$ бит  
Мощность алфавита с цифрами - 10 $\Rightarrow$ для записи одной цифры из него понадобится $ceil(\log_2(10))=4$ бита  
Всего в идентификаторе 10 символов: 2 буквы и 8 цифр. В условии сказано, что идентификаторы кодируются посимвольно $\Rightarrow$ для записи одного идентификатора потребуется $25+84=42$ бита.
В условии также сказано, что идентификаторы кодируются целым количеством байт, а значит надо 42 бита ($5\frac{1}{4}$ байта) округлить вверх до целого количества байт $\Rightarrow$ один идентификатор записывается 6 байтами. $\Rightarrow$ для 25 идентификаторов нужно $6 \times 25=150$ байт.

#### Арифметика с байтами

(№ 2069) Для регистрации на сайте необходимо продумать пароль, состоящий из 10 символов. Он должен содержать хотя бы 3 цифры, а также строчные или заглавные буквы латинского алфавита (алфавит содержит 26 букв). В базе данных для хранения сведения о каждом пользователе отведено одинаковое и минимальное возможное целое число байт. При этом используют посимвольное кодирование паролей, все символы кодируют одинаковым и минимально возможным количеством бит. Кроме собственного пароля, для каждого пользователя в системе хранятся дополнительные сведения, для чего выделено целое число байт одинаковое для каждого пользователя. Для хранения сведений о 30 пользователях потребовалось 870 байт. Сколько байт выделено для хранения дополнительных сведений об одном пользователе. В ответе запишите только целое число – количество байт.  
_Ответ: 21_  
**Решение**  
Символ в пароле может быть одной из 10 цифр, одной из 26 строчных латинских букв или одной из 26 заглавных латинских букв $\Rightarrow$ мощность алфавита символов для пароля равна $10+26+26=62$ $\Rightarrow$ для записи одного символа из него понадобится $ceil(\log_2(62))=6$ бит.  
В пароле 10 символов $\Rightarrow$ для его хранения нужно $6 \times 10=60$ бит, а это, округляя вверх, 8 байт.  
_В данной задаче условие о том, что пароль должен содержать хотя бы 3 цифры, бессмысленно._  
Пусть для записи дополнительных сведений одного пользователя нужно $x$ байт, тогда:

$$
\begin{aligned}
30(x + 8) &= 870\\
30x + 240 &= 870\\
        x &= \frac{630}{30}\\
        x &= 21
\end{aligned}
$$

#### Максимальная сложность

(№ 6198) (Д. Статный) При регистрации в компьютерной системе каждому объекту присваивается идентификатор, состоящий из некоторого количества символов и содержащий только десятичные цифры и символы из 4180-символьного специального алфавита (строчные и прописные). В базе данных для хранения каждого идентификатора отведено одинаковое и минимально возможное целое число байт. При этом используется посимвольное кодирование идентификаторов, все символы кодируются одинаковым и минимально возможным количеством бит. Для хранения идентификаторов 2048 пользователей выделено 604 Кбайта памяти. Какова максимально допустимая длина идентификатора?  
_Ответ: 172_  
**Решение**  
Символ в идентификаторе может быть одной 10 цифр, одним из 4180 строчных символов или одним из 4180 прописных символов $\Rightarrow$ мощность алфавита символов для идентификатора равна $10+4180+4180=8370$ $\Rightarrow$ для записи одного символа из него понадобится $ceil(\log_2(8370))=14$ бит.  
Если для 2048 идентификаторов нужно 604 Кбайта = $604 \times 1024$ байта, то на каждый идентификатор получается $\frac{604 \times 1024}{2048}=302$ байта.  
Если идентификатор должен занимать 302 байта, а каждый символ в нем занимает 14 бит, то может уместиться $\frac{302 \times 8}{14}=172$ символа (округлили вниз) $\Rightarrow$ максимальная допустимая длина идентификатора равна 172.

#### Прочие варианты задания 11

Так же встречаются задачи, в которых нужно найти:

- Максимальное количество записей/сведений/... которые можно хранить в ограниченном объёме памяти
