# Занятие №1

## Задание №1

### Определения

**Граф** — это геометрическая фигура, которая состоит из точек и линий, которые их соединяют. Точки называют вершинами графа, а линии — ребрами.
(это очень плохое определение с точки зрения математики, но в рамках этой задачи его достаточно)  
**Степень (или порядок) вершины** — количество ребер, которые выходят из этой вершины.  
**Матрица смежности** — это двумерный массив, в котором строки и столбцы представляют вершины графа, а элементы матрицы указывают наличие или отсутствие связи между вершинами

### Свойства сопоставления

1. Всегда сразу можно сопоставить уникальные вершины
2. Если для вершины известны все соседи кроме одного, то он определяется методом исключения
3. Если известны все вершины данной степени кроме одной, то она определяется методом исключения
4. Если в графе известные вершины имеют общих соседей, то они определяются по таблице

Не всегда можно решить задачу, пользуясь только свойствами.  
**Но всегда можно, итеративно находя вершину, для которой можно сказать: “Это единственная вершина степени n, (не) связанная с …”**  
(Эти два способа можно и нужно комбинировать)

Преимущество такого подхода в том, что он разбивает решение на простые маленькие шаги. Почти всегда задачу можно решить, применив более сложную логику на несколько шагов вперёд, но часто это приводит к ошибкам и лишним тратам времени.

### Варианты задания

#### Без длин, биекция

(№ 3200) На рисунке справа схема дорог Н-ского района изображена в виде графа, в таблице содержатся сведения о длинах этих дорог (в километрах).

![](src/images/1-lesson/image19.png){ width=80% }

Так как таблицу и схему рисовали независимо друг от друга, то нумерация населённых пунктов в таблице никак не связана с буквенными обозначениями на графе. Выпишите последовательно, без пробелов и знаков препинания, указанные на графе буквенные обозначения пунктов от П1 до П7: сначала букву, соответствующую П1, затем букву, соответствующую П2, и т. д.  
_Ответ: ЕЖГБАДВ_

**Алгоритм решения:**

1. Выписать напротив каждой строки таблицы количество дорог
2. Посчитать степени вершин графа
3. Найти и сопоставить уникальные вершины
4. Пользуясь набором свойств сопоставить все остальные пункты и вершины
5. Зная сопоставление таблицы и графа, выписать ответ

![](src/images/1-lesson/image13.png){ width=80% }

**Решение через 4 свойства:**  
П2 единственная строка с 2 звездочками, Ж единственная вершина степени 2 (свойство 1) => Ж - П2  
Аналогично Д - П6  
Для вершины Ж известны все соседи кроме одного (свойство 2) => E - П1  
Для вершины Е известны все соседи кроме одного (свойство 2) => Б - П4  
Из двух вершин степени 4 одна уже известна: Б - П4 (свойство 3) => Г - П3  
У вершин Г и Б два общих соседа: в графе это вершины А и Д, а в таблице П6 и П5, причем известно, что Д - П6 (свойство 4) => A - П5  
Аналогично В - П7  
**Решение через единственность:**  
Ж - единственная вершина степени 2 => Ж - П2  
Д - единственная вершина степени 5 => Д - П6  
Е - единственная вершина степени 3, связанная с П2 => Е - П1  
Б - единственная вершина степени 4, связанная с П1 и П6 => Б - П4  
Г - единственная вершина степени 4, связанная с П4 и П6 => Г - П3  
А - единственная вершина степени 3, связанная с П3 и П4 => А - П5  
В - единственная вершина степени 3, связанная с П3, П5, П6 => В - П7

#### Длина дороги

(№ 76) На рисунке справа схема дорог Н-ского района изображена в виде графа, в таблице содержатся сведения о длинах этих дорог (в километрах).

![](src/images/1-lesson/image4.png){ width=80% }

Так как таблицу и схему рисовали независимо друг от друга, то нумерация населённых пунктов в таблице никак не связана с буквенными обозначениями на графе. Определите, какова длина дороги из пункта А в пункт Д.  
_Ответ: 46_

Эту задачу невозможно решить пользуясь только свойствами 1-4. Зато она легко колется решением через единственность.
Такой вариант задачи часто можно решить не устанавливая полное соответствие между таблицей и вершинами. Во время решения лучше обращать большее внимание на вершины, соседствующие с искомыми (в данном случае А и Д)

![](src/images/1-lesson/image14.png){ width=80% }

**Решение:**  
В - единственная вершина степени 5 => В - П3  
Б - единственная вершина степени 2, связанная с П3 => Б - П2  
А - единственная вершина степени 3, связанная с П2 и П3 => А - П4  
Д - единственная вершина степени 3, связанная с П3 и П4 => Д - П6  
По таблице находим, что длина дороги из А в Д (из П4 в П6) равна 46

Несмотря на то, что для решения задачи достаточно сопоставить только 4 вершины, для самопроверки можно определить остальные и убедиться, что все сходится.

#### Без длин, найти пару (симметрия)

(№ 1606) На рисунке справа схема дорог Н-ского района изображена в виде графа, звёздочкой обозначено наличие дороги из одного населённого пункта в другой. Отсутствие звездочки означает, что такой дороги нет.

![](src/images/1-lesson/image11.png){ width=80% }

Так как таблицу и схему рисовали независимо друг от друга, то нумерация населённых пунктов в таблице никак не связана с буквенными обозначениями на графе. Определите, какие номера населённых пунктов в таблице могут соответствовать населённым пунктам Б и Е на схеме. В ответе запишите эти два номера в возрастающем порядке без пробелов и знаков препинания.  
_Ответ: 67_

![](src/images/1-lesson/image9.png){ width=80% }

Помимо нового формата ответа, очень важной особенностью этого варианта задачи является симметрия. Граф симметричен и точно сопоставить вершины пунктам невозможно. Задача всегда будет составлена так, чтобы в случае симметрии не было необходимости устанавливать биекцию.

**Решение:**  
В и Ж единственные вершины степени 2 => {В, Ж} - {4, 5}, причем точно их сопоставить нельзя в силу симметрии  
Б и Е единственные вершины степени 3, не связанные с 4 и 5 => {Б, Е} - {6, 7}  
Задача составлена так, что знания о том, что вершины Б и Е соответствуют некоторой перестановке номеров 6 и 7, достаточно для ответа

_Дальнейшие варианты задачи не требуют принципиально новых подходов к решению, достаточно комбинации уже разобранных_

#### Ближайший пункт

(№ 5873) (Е. Усов) На рисунке справа схема дорог Н-ского района изображена в виде графа, в таблице приведены длины дорог между пунктами. Так как таблицу и схему рисовали независимо друг от друга, то нумерация населённых пунктов в таблице никак не связана с буквенными обозначениями на графе.

![](src/images/1-lesson/image6.png){ width=80% }

Определите ближайший пункт к П3. В ответе запишите буквенное обозначение этого пункта. Если возможно несколько верных ответов, запишите их в алфавитном порядке без пробелов.  
_Ответ: ВД_

Иногда попадаются неудобные рисунки. В такой ситуации аккуратно упростите рисунок, не нарушая связей.

![](src/images/1-lesson/image5.png){ width=80% }

#### Длина кратчайшего пути

(№ 1605) На рисунке справа схема дорог Н-ского района изображена в виде графа, в таблице содержатся сведения о длинах этих дорог (в километрах).

![](src/images/1-lesson/image20.png){ width=80% }

Так как таблицу и схему рисовали независимо друг от друга, то нумерация населённых пунктов в таблице никак не связана с буквенными обозначениями на графе. Известно, что длина кратчайшего пути из пункта A в пункт Ж превышает 30 километров. Определите длину кратчайшего пути между пунктами В и Е.  
_Ответ: 26_

В этой задаче дополнительное условие помогает разрушить симметрию

![](src/images/1-lesson/image10.png){ width=80% }

#### Еще могут просить найти

- Кратчайший путь (перечислить входящие в него вершины)
- В какой пункт ведет самая короткая/длинная дорога из пункта Х
- Сумму длин дорог AB, BC, DE

## Задание №4

### Определения

**Кодовое слово** — последовательность знаков (не число)  
Пример: 000, 100111, 123312, LKSD123…  
**Двоичное кодирование** — это кодирование с помощью двух знаков.  
Пример: 000, 100111...  
**Равномерный код** — это код, в котором все кодовые слова имеют одинаковую длину.  
Пример:  
А - 000  
Б - 101  
В - 011  
**Неравномерный код** — это код, в котором кодовые слова имеют различную длину.  
Пример:  
А - 0  
Б - 101  
В - 011  
Г - 10  
**Условие Фано**: для того, чтобы сообщение, записанное с помощью неравномерного по длине кода, однозначно декодировалось, достаточно, чтобы _никакой код не был началом другого (более длинного) кода_.  
Пример:  
А - 01  
Б - 110  
В - 0001  
**Обратное условие Фано**: никакой код не является _окончанием_ другого (более длинного) кода.  
**Бинарное (двоичное) дерево** — иерархическая структура данных, в которой каждый узел имеет не более двух потомков. Как правило, первый называется родительским узлом, а дети называются левым и правым наследниками.  
**Корень дерева** является единственным и не имеет родителей, а каждая другая вершина имеет одного родителя.

_Оказывается, что условие Фано соблюдается тогда и только тогда, когда кодировку можно представить в виде двоичного дерева._

### Варианты задания

#### Минимальный код, весь алфавит

(№ 6433) Все заглавные буквы русского алфавита закодированы неравномерным двоичным кодом, в котором никакое кодовое слово не является началом другого кодового слова. Это условие обеспечивает возможность однозначной расшифровки закодированных сообщений. Кодовые слова для некоторых букв известны: А – 10, Б – 110, В – 01, Г – 001, Д – 111. Укажите возможный код минимальной длины для буквы Я. Если таких кодов несколько, укажите тот из них, который имеет минимальное числовое значение.  
_Ответ: 0000_

![](src/images/1-lesson/image3.png){ width=80% }

_Чтобы было удобно рисовать двоичные деревья, рекомендую первое ветвление делать пошире, а каждую следующую ветвь делать в два раза короче предыдущей_

_Решение:_  
Записываем известную часть кодировки в виде двоичного дерева.  
Заметим, что везде, кроме узла 00, мы уперлись в тупик.  
Возникает желание сопоставить Я код 000, но это ошибка. Если так сделать, то приткнуть весь остальной алфавит будет некуда, а в условии специально обозначили, что закодированы все буквы русского алфавита.  
Приходится в 000 делать еще одну развилку. В левого потомка поместим “Я” чтобы код имел наименьшее числовое значение, а от правого пойдет весь остальной алфавит.  
Получаем для “Я” кодовое слово 0000

#### Минимальный код

(№ 1699) Для кодирования некоторой последовательности, состоящей из букв А, Б, В, Г, Д, Е, Ж, З, И, Й. решили использовать неравномерный двоичный код, удовлетворяющий условию Фано. Для букв А, Б, В, Г, Д, Е, Ж, З, И использовали соответственно кодовые слова 0100, 0101, 1000, 11, 000, 101, 0010, 0011, 1001. Укажите кратчайшее возможное кодовое слово для буквы Й, при котором код будет допускать однозначное декодирование. Если таких кодов несколько, укажите код с наименьшим числовым значением.  
_Ответ: 011_

![](src/images/1-lesson/image16.png){ width=80% }

**Решение:**  
_1 способ_  
Единственное отличие этой задачи от предыдущей в том, что здесь не ловят на внимательность и не надо помнить про остальной алфавит.
Достаточно просто аккуратно нарисовать соответствующее кодировке двоичное дерево и заметить, что тупики везде, кроме узла 01, у которого еще нет правого потомка.  
_2 способ_
Вы могли заметить, что рисовать дерево для большого количества букв бывает не очень быстро. В таких случаях можно воспользоваться обычным перебором. Судя по условию, вряд ли искомое кодовое слово длиннее 4 символов, а значит в худшем случае мы переберем 2^4 = 16 вариантов, что совсем немного.  
Перебираем все слова длины 1:  
0 - не подходит, так как с него начинается кодовое слово буквы А  
1 - не подходит, так как с него начинается кодовое слово буквы В  
Длины 2:  
00 - не подходит из-за Д  
01 - не подходит (А)  
10 - нет (В)  
11 - нет (Г)  
Длины 3:  
000 - нет (Д)  
001 - нет (З)  
010 - нет (А)  
011 - подходит!  
011 будет ответом, потому что мы перебрали все кодовые слова меньшей длины и они не подошли, а поскольку мы перебирали кодовые слова одной длины в возрастающем порядке, то 011 наименьшее из подходящих.

#### Наименьшая последовательность

(№ 6428) (Ф. Лущекин) По каналу связи передаются сообщения, содержащие только шесть букв: А, В, И, К, П, Р, для передачи используется двоичный код, удовлетворяющий условию Фано. Буквы П и И имеют коды 0 и 11 соответственно. Укажите наименьшую возможную длину закодированной последовательности для слова КРАПИВКА.  
_Ответ: 27_

![](src/images/1-lesson/image15.png){ width=80% }

**Решение:**  
Чтобы минимизировать длину закодированной последовательности нужно наиболее часто встречающимся буквам сопоставить как можно более короткие кодовые слова.
Считаем сколько раз каждая буква встречается в слове КРАПИВКА:  
К - 2, Р - 1, А - 2, П - 1, И - 1, В - 1  
Буквы К и А встречаются дважды, а все остальные буквы единожды, так что постараемся при построении дерева сопоставить им коды покороче.
Как только появляется возможность выделить короткий код для часто встречающейся буквы мы ей пользуемся и получаем дерево как на рисунке.
Используя его, считаем длины кодовых слов каждой буквы и их сумму чтобы посчитать длину закодированной последовательности.  
Получаем правильный ответ 27.  
В таких задачах не всегда очевидно как именно должно выглядеть дерево и бывает полезно попробовать построить его по-другому.

![](src/images/1-lesson/image17.png){ width=80% }

Дерево другое, а ответ тот же ¯\\\_(\*\_\*)\_/¯  
Построить дерево иначе может быть полезно в качестве проверки. В любом случае, при первом построении дерева стоит руководствоваться принципом:
_"как только появляется возможность выделить короткий код для часто встречающейся буквы мы ей пользуемся"_

#### Восьмеричный код

(№ 5120) Для кодирования некоторой последовательности, состоящей из букв Е, Л, П, К, Р, C решили использовать неравномерный двоичный код, для которого выполняется условие Фано. Для букв К и Р использовали соответственно кодовые слова 011, 11. Найдите кодовую последовательность наименьшей длины для кодирования слова ПЕРЕПЕЛ и запишите полученный результат в восьмеричном коде. Если таких кодов несколько, укажите код с наименьшим числовым значением.  
_Ответ: 027044_

![](src/images/1-lesson/image7.png){ width=80% }

**Решение:**  
У этой задачи несколько особенностей:

- Не все буквы алфавита используются в слове
- На построение дерева влияет дополнительное условие: “укажите код с наименьшим числовым значением”
- В качестве ответа требуется сама закодированная последовательность, а не ее длина
- Ответ надо перевести в восьмеричную систему счисления

При построении дерева важно не забыть про букву С. Она не используется в слове ПЕРЕПЕЛ и для нее не дано кодовое слово. Если про нее забыть, то для буквы Л получится кодовое слово 010, а не 0010 и ответ получится неправильным.

Когда выбираем коды для часто встречающихся букв Е и П можно по невнимательности выбрать для П код 10, а для Е - 00. Это не повлияет на длину закодированной последовательности, но повлияет на ее числовое значение и оно не будет минимальным. Слово ПЕРЕПЕЛ начинается с буквы П, а значит именно для нее надо выбрать наименьший код 00

Зная кодовые слова всех букв, чтобы получить закодированную последовательность надо просто записать их друг за другом в той же последовательности, что и буквы в слове.

Операция перевода из двоичного кода в восьмеричный менее тривиальна. Пользуясь свойством систем счисления с основанием, равным степени двойки, разбиваем последовательность _с конца_ на группы по 3 цифры. При необходимости слева дописываем нули. И теперь уже каждую такую тройку переводим в восьмеричную систему счисления.  
Напоминаю формулу: если есть 3-х значное двоичное число $abc$, то его значение в восьмеричной с.с. вычисляется как $a \cdot 2^2+b \cdot 2^1+c \cdot 2^0$.  
Подробно про системы счисления мы поговорим на 5-ом занятии.

#### Логика

(№ 3919) Заглавные буквы русского алфавита закодированы неравномерным двоичным кодом, в котором никакое кодовое слово не является началом другого кодового слова. Это условие обеспечивает возможность однозначной расшифровки закодированных сообщений. Известно, что все кодовые слова содержат не меньше двух и не больше трёх двоичных знаков, а слову КАПОТ соответствует код 11000111110011. Какой код соответствует слову ТОК?  
_Ответ: 01110110_

![](src/images/1-lesson/image12.png){ width=80% }

**Решение:**  
Чтобы решить такую задачу вообще ничего знать не надо, достаточно руководствоваться простой логикой.
Выписываем закодированную последовательность и пытаемся вытащить из нее нужные нам буквы.  
Буква К в слове КАПОТ стоит первой и из условия нам известно, что длина всех кодовых слов 2 или 3 => кодовое слово буквы К либо 11, либо 110.  
11 оно быть не может, потому что в середине у нас есть 5 единиц подряд, а значит как минимум еще одно кодовое слово будет начинаться с 11.  
Получается, что К - 110.  
Буква Т стоит последней. По тем же соображениям её кодовое слово 11 или 011, причем 11 нам не подходит => Т - 011.  
Буква О стоит перед Т, а значит её кодовое слово 10 или 110. 110 нам не подходит, потому что оно совпадает с кодовым словом буквы К => О - 10.  
Получаем закодированную последовательность слова ТОК: 01110110

#### Логика 2

(№ 6368) Все заглавные буквы русского алфавита закодированы неравномерным двоичным кодом, в котором никакое кодовое слово не является началом другого кодового слова. Это условие обеспечивает возможность однозначной расшифровки закодированных сообщений. Известно, что слово ПРОТОН кодируется как 1100001010010111. Какой код соответствует слову ТОП?  
_Ответ: 10010110_

![](src/images/1-lesson/image18.png){ width=80% }

**Решение:**  
В этой задаче условие не дает нам дополнительных ограничений на длину кодовых слов. Здесь надо воспользоваться тем фактом, что вы решаете составленную человеком искусственную задачу, у которой должен быть один конкретный ответ. А раз так, достаточно придумать хоть какое-нибудь разбиение данной последовательности на кодовые слова и оно должно оказаться правильным. Руководствуясь примитивным соображением о том, что в слове две буквы О, а значит надо поискать повторяющиеся кусочки и небольшим перебором получаем искомое разбиение. Важно не забыть проверить, что никакое кодовое слово не является началом другого.

#### Равномерный код

(№ 115) По каналу связи с помощью равномерного двоичного кода передаются сообщения, содержащие только 4 буквы П, Р, С, Т. Каждой букве соответствует свое кодовое слово, при этом для набора кодовых слов выполнено такое свойство: любые два слова из набора отличаются не менее чем в трех позициях. Это свойство важно для расшифровки сообщений при наличии помех. Для кодирования букв П, Р, С используются 5-битовые кодовые слова:  
П – 01111, Р – 00001, С – 11000  
5-битовый код для буквы Т начинается с 1 и заканчивается на 0. Определите кодовое слово для буквы Т.  
_Ответ: 10110_

![](src/images/1-lesson/image8.png){ width=40% }

**Решение:**  
Для решения таких задач тоже никаких особых знаний не требуется.  
Записываем коды букв П, Р, С и известную часть кода Т.  
Заметим, что буква Т уже отличается от П и Р в 2 позициях, а от С пока совсем не отличается.  
Т должна отличаться от С в 3-х позициях и осталось всего 3 неизвестных позиции в коде буквы Т => записываем туда значения, противоположные соответствующим значениям в коде буквы С.  
Получаем код для буквы Т и проверяем, что он отличается от всех остальных как минимум в 3-х позициях.

_Если вам попадается “нестандартный” вариант 4 задания, то, скорее всего, он ломается простой логикой._

#### Еще могут просить найти:

- Найти кодовое слово для буквы с максимальным числовым значением
- Наименьшую суммарную длину кодовых слов всех букв
